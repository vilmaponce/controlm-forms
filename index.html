<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="validaciones.css">
<title>ABM Jobs - Control-M</title>
</head>
<body>
<!-- HEADER CON LOGO YPF -->
<header class="header-principal">
    <div class="header-contenido">
        <div class="logo-container">
            <img src="image/logo-ypf.png" alt="YPF Logo" class="logo-ypf">
        </div>
        <div class="header-info">
            <h1>ADMINISTRACI√ìN CONTROL-M</h1>
            <h2>Formularios de alta, baja y modificaci√≥n de Jobs en Control-M</h2>
        </div>
        <button class="btn-ayuda" onclick="mostrarAyuda()">
            <span class="icono-ayuda">‚ùì</span>
            Ayuda
        </button>
    </div>
</header>

<div class="importante">
    <strong><span class="requerido">üìå IMPORTANTE..</span></strong> Los campos marcados con <span class="requerido">(*)</span> son obligatorios.
</div>

<!-- PASO 1: TIPO DE SOLICITUD -->
<div id="paso-1" class="paso-container">
    <h2>Paso 1 de 3: Seleccione el tipo de solicitud</h2>
    <div class="opciones-paso">
        <button type="button" class="btn-opcion" onclick="seleccionarTipoSolicitud('alta')">
            <span class="icono">‚ûï</span>
            <span class="texto">ALTA</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarTipoSolicitud('baja')">
            <span class="icono">‚ûñ</span>
            <span class="texto">BAJA</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarTipoSolicitud('modificacion')">
            <span class="icono">‚úèÔ∏è</span>
            <span class="texto">MODIFICACI√ìN</span>
        </button>
    </div>
</div>

<!-- PASO 2: AMBIENTE -->
<div id="paso-2" class="paso-container" style="display:none;">
    <h2>Paso 2 de 3: Seleccione el ambiente</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    <div class="breadcrumb">
        <span class="breadcrumb-item" onclick="volverPaso(1)">Tipo: <strong id="tipo-selected"></strong></span>
    </div>
    <div class="opciones-paso">
        <button type="button" class="btn-opcion" onclick="seleccionarAmbiente('desarrollo')">
            <span class="icono">üõ†Ô∏è</span>
            <span class="texto">DESARROLLO</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarAmbiente('testing')">
            <span class="icono">üß™</span>
            <span class="texto">TESTING</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarAmbiente('produccion')">
            <span class="icono">üöÄ</span>
            <span class="texto">PRODUCCI√ìN</span>
        </button>
        <!-- <button type="button" class="btn-opcion" onclick="seleccionarAmbiente('laboratorio')">
            <span class="icono">üî¨</span>
            <span class="texto">LABORATORIO</span>
        </button> -->
    </div>
</div>

<!-- PASO 3: TIPO DE JOB -->
<div id="paso-3" class="paso-container" style="display:none;">
    <h2>Paso 3 de 3: Seleccione el tipo de job</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>

    <div class="breadcrumb">
        <span class="breadcrumb-item" onclick="volverPaso(2)">Tipo: <strong id="tipo-selected-2"></strong></span>
        <span class="separador">‚Üí</span>
        <span class="breadcrumb-item" onclick="volverPaso(1)">Ambiente: <strong id="ambiente-selected"></strong></span>
    </div>
    <div class="opciones-paso">
        <button type="button" class="btn-opcion" onclick="seleccionarJob('os')">
            <span class="icono">üíª</span>
            <span class="texto">SCRIPT / CMD</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('sap')">
            <span class="icono">üìä</span>
            <span class="texto">SAP R3</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('sap-business-warehouse')">
            <span class="icono">üîÑ</span>
            <span class="texto">SAP BUSINESS WAREHOUSE</span>

        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('file-transfer')">
            <span class="icono">üìÅ</span>
            <span class="texto">FILE TRANSFER</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('database')">
            <span class="icono">üóÑÔ∏è</span>
            <span class="texto">DATABASE</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('azure-webjob')">
            <span class="icono">‚òÅÔ∏è</span>
            <span class="texto">ADD AZURE APP WEBJOB</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('masiva')">
            <span class="icono">üì¶</span>
            <span class="texto">MASIVA</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('endpoint')">
            <span class="icono">üåê</span>
            <!-- <span class="texto">ENDPOINT</span> -->
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('webjob')">
            <span class="icono">‚öôÔ∏è</span>
            <!-- <span class="texto">WEBJOB</span> -->
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('sap-btp-scheduler')">
            <span class="icono">üìã</span>
            <span class="texto">SAP BTP SCHEDULER</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('web-services-rest')">
            <span class="icono">üîó</span>
            <span class="texto">Add Web Services Rest Connection Profile</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('veeam-backup')">
            <span class="icono">üíæ</span>
            <span class="texto">VEEAM BACKUP</span>
        </button>
        <button type="button" class="btn-opcion" onclick="seleccionarJob('azure-webjob')">
            <span class="icono">‚òÅÔ∏è</span>
            <!-- <span class="texto">Add Azure App Webjobs Connection Profile</span> -->
        </button>
    </div>
</div>

<!-- RESUMEN DE SELECCI√ìN -->
<div id="resumen-seleccion" class="resumen-seleccion">

    <div class="resumen-contenido">
        <div class="resumen-items">
            <div class="resumen-item">
                <div class="label">Tipo de Solicitud</div>
                <div class="valor" id="resumen-tipo"></div>
            </div>
            <div class="resumen-item">
                <div class="label">Ambiente</div>
                <div class="valor" id="resumen-ambiente"></div>
            </div>
            <div class="resumen-item">
                <div class="label">Tipo de Job</div>
                <div class="valor" id="resumen-job"></div>
            </div>
        </div>
        <button type="button" class="resumen-btn-volver" onclick="volverAlPaso3()">
            ‚Üê Cambiar selecci√≥n
        </button>
    </div>
</div>

<!--*************************FORMULARIOS***************************************** -->

<!-------------------------- FORMULARIO SCRIPT/CMD ------------------------------->

<form id="form-os" action="/formularios/os" method="post" class="custom-form" style="display:none;">
    <input type="hidden" name="tipo_job" value="os">
    <h2>Campo SCRIPT / CMD</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    
    <label>Tipo de solicitud:<span class="requerido">(*)</span>
        <select name="tipo_solicitud_os">
            <option value="">Seleccionar...</option>
            <option value="alta">Alta</option>
            <option value="baja">Baja</option>
            <option value="modificacion">Modificaci√≥n</option>
        </select>
    </label>
    
    <label>Ambiente:<span class="requerido">(*)</span>
        <select name="ambiente_os">
            <option value="">Seleccionar...</option>
            <option value="desarrollo">Desarrollo</option>
            <option value="testing">Testing</option>
            <option value="produccion">Producci√≥n</option>
        </select>
    </label>
    
    <label>Ticket en Service Now: <input type="text" name="sn_os"></label>
    <label>Jobname: <input type="text" name="jobname_os"></label>
    <label>Descripci√≥n del proceso<span class="requerido">(*)</span> <input type="text" name="descripcion_os" required></label>
    <label>Nombre del servidor<span class="requerido">(*)</span> <input type="text" name="servidor_os" required></label>
    <label>Usuario ejecutante <input type="text" name="usuario_os"></label>
    <label>Instancia de aplicaci√≥n en Service Now <span class="requerido">(*)</span> <input type="text" name="instancia_os" required></label>
    <label>Nombre del proceso a ejecutar<span class="requerido">(*)</span> <input type="text" name="command_os" required></label>
    
    <div class="section-title">Frecuencia de ejecuci√≥n<span class="requerido">(*)</span></div>
    <label>D√≠as de la semana: <input type="text" name="dias_semana_os"required placeholder="L,M,Mi,J,V"></label>
    <label>D√≠as del mes: <input type="text" name="dias_mes_os" required placeholder="1,15,30"></label>
    <label>Mes/es:
        <select name="meses_os">
            <option value="">Todos</option>
            <option value="enero">Enero</option>
            <option value="febrero">Febrero</option>
            <option value="marzo">Marzo</option>
            <option value="abril">Abril</option>
            <option value="mayo">Mayo</option>
            <option value="junio">Junio</option>
            <option value="julio">Julio</option>
            <option value="agosto">Agosto</option>
            <option value="septiembre">Septiembre</option>
            <option value="octubre">Octubre</option>
            <option value="noviembre">Noviembre</option>
            <option value="diciembre">Diciembre</option>
        </select>
    </label>
    <label>Fecha √∫nica: <input type="date" name="fecha_unica_os"></label>
    <label>Hora: <input type="time" name="hora_os" required></label>
    <label>C√≠clico:
        <select name="ciclico_os" class="ciclico-select">
            <option value="no">No</option>
            <option value="si">S√≠</option>
        </select>
    </label>
    <div class="ciclico-campos" style="display: none;">
        <label>Hora desde: <input type="time" name="hora_desde_os"></label>
        <label>Hora hasta: <input type="time" name="hora_hasta_os"></label>
        <label>Intervalo (minutos): <input type="number" name="intervalo_os" placeholder="30"></label>
        <label>Desde:
            <select name="desde_os">
                <option value="">Seleccionar...</option>
                <option value="fin">Fin</option>
                <option value="principio">Principio</option>
            </select>
        </label>
    </div>
    <label>Activo desde: <input type="date" name="activo_desde_os"></label>
    <label>Activo hasta: <input type="date" name="activo_hasta_os"></label>
    
    <label>Si tiene dependencias indicar cuales: 
        <textarea name="dependencias_os" placeholder="JOB.TO.JOB"></textarea>
    </label>
    
    <label>Criticidad:
        <select name="criticidad_os">
            <option value="">Seleccionar...</option>
            <option value="baja">Baja</option>
            <option value="media">Media</option>
            <option value="alta">Alta</option>
        </select>    
    </label>
    
    <div class="section-title">DOCUMENTACI√ìN <span class="requerido">(indicar un √∫nico grupo)</span></div>
    <label>Grupo responsable correo<span class="requerido">(*)</span> <input type="text" name="grupo_responsable_correo_os" required></label>
    <label>Grupo responsable Service Now: <input type="text" name="grupo_responsable_sn_os"></label>
    <label>Acci√≥n a seguir si cancela <span class="requerido">(*)IMPORTANTE: NO DERIVAR INCIDENTE-CERRAR EN OPERACIONES</span>
        <textarea name="accion_cancela_os" required></textarea>
    </label>
    <label>Observaciones / Datos Complementarios / Notas 
        <textarea name="observaciones_os"></textarea>
    </label>
    
    <button type="submit">Guardar</button>
</form>

<!---------------------- FORMULARIO SAP R3 --------------------------------------------->

<form id="form-sap" action="/formularios/sap" method="post" class="custom-form" style="display:none;">
    <input type="hidden" name="tipo_job" value="sap">
    <h2>Campo SAP</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    
    <!-- FILA 1: Tipo, Ambiente, Ticket -->
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
        <label>Tipo de solicitud<span class="requerido">(*)</span>
            <select name="tipo_solicitud_sap" required>
                <option value="">Seleccionar...</option>
                <option value="alta">Alta</option>
                <option value="baja">Baja</option>
                <option value="modificacion">Modificaci√≥n</option>
            </select>
        </label>
        
        <label>Ambiente<span class="requerido">(*)</span>
            <select name="ambiente_sap" required>
                <option value="">Seleccionar...</option>
                <option value="desarrollo">Desarrollo</option>
                <option value="testing">Testing</option>
                <option value="produccion">Producci√≥n</option>
            </select>
        </label>
        
        <label>Ticket en Service Now: 
            <input type="text" name="sn_sap">
        </label>
    </div>
    
    <!-- JOBNAME -->
    <label>JOBNAME: 
        <input type="text" name="jobname_sap">
    </label>
    
    <!-- DESCRIPCI√ìN DEL PROCESO -->
    <label>DESCRIPCI√ìN DEL PROCESO <span class="requerido">(*)</span>
        <textarea name="descripcion_sap" required placeholder="Descripci√≥n del proceso"></textarea>
    </label>
    
    <!-- FILA 2: Servidor, Usuario Ejecutante, Instancia -->
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
        <label>Nombre del Servidor <span class="requerido">(*)</span>
            <input type="text" name="servidor_sap" required>
        </label>
        
        <label>Usuario Ejecutante
            <input type="text" name="usuario_sap">
        </label>
        
        <label>Instancia de Aplicaci√≥n en SN <span class="requerido">(*)</span>
            <input type="text" name="instancia_sap" required>
        </label>
    </div>
    
    <!-- Nombre del Proceso de SAP -->
    <label>Nombre del Proceso de SAP a Lanzar desde Control-M (Proceso a Ejecutar) <span class="requerido">(*)</span>
        <input type="text" name="command_sap" required placeholder="Ejemplo: ZREP_VENTAS_DIARIAS">
    </label>
    
    <!-- FILA 3: Usuario en SAP, Instancia/Mandante, M√≥dulo -->
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
        <label>Usuario en SAP:
            <input type="text" name="usuario_en_sap">
        </label>
        
        <label>Instancia/Mandante:
            <input type="text" name="mandante_sap" placeholder="Ej: 100">
        </label>
        
        <label>M√≥dulo:
            <input type="text" name="modulo_sap" placeholder="Ej: FI, CO, MM, SD">
        </label>
    </div>
    
    <div class="section-title">FRECUENCIA de EJECUCI√ìN <span class="requerido">(*)</span></div>
    
    <!-- FILA FRECUENCIA 1 -->
    <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px;">
        <label>D√≠as de la Semana: 
            <input type="text" name="dias_semana_sap" required placeholder="L,M,Mi,J,V">
        </label>
        
        <label>D√≠as del Mes: 
            <input type="text" name="dias_mes_sap" required placeholder="1,15,30">
        </label>
        
        <label>Mes/es:
            <select name="meses_sap">
                <option value="todos">TODOS</option>
                <option value="enero">Enero</option>
                <option value="febrero">Febrero</option>
                <option value="marzo">Marzo</option>
                <option value="abril">Abril</option>
                <option value="mayo">Mayo</option>
                <option value="junio">Junio</option>
                <option value="julio">Julio</option>
                <option value="agosto">Agosto</option>
                <option value="septiembre">Septiembre</option>
                <option value="octubre">Octubre</option>
                <option value="noviembre">Noviembre</option>
                <option value="diciembre">Diciembre</option>
            </select>
        </label>
        
        <label>Fecha √önica: 
            <input type="date" name="fecha_unica_sap">
        </label>
        
        <label>Hora: 
            <input type="time" name="hora_sap" required>
        </label>
    </div>
    
    <!-- FILA FRECUENCIA 2 (C√≠clico) -->
    <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin-top: 10px;">
        <label>C√çCLICO?
            <select name="ciclico_sap" class="ciclico-select">
                <option value="no">NO</option>
                <option value="si">SI</option>
            </select>
        </label>
        
        <div class="ciclico-campos" style="display: none; grid-column: 2 / 6; display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
            <label>Hora Desde: 
                <input type="time" name="hora_desde_sap">
            </label>
            
            <label>Hora Hasta: 
                <input type="time" name="hora_hasta_sap">
            </label>
            
            <label>Intervalo (minutos): 
                <input type="number" name="intervalo_sap" placeholder="30">
            </label>
            
            <label>Desde:
                <select name="desde_sap">
                    <option value="">Seleccionar...</option>
                    <option value="fin">Fin</option>
                    <option value="principio">Principio</option>
                </select>
            </label>
        </div>
    </div>
    
    <!-- FILA ACTIVO Y DEPENDENCIAS -->
    <div style="display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 15px; margin-top: 15px;">
        <label>Activo Desde: 
            <input type="date" name="activo_desde_sap">
        </label>
        
        <label>Si tiene dependencias indicar cuales: 
            <textarea name="dependencias_sap" placeholder="JOB.TO.JOB" rows="2"></textarea>
        </label>
        
        <label>Criticidad:
            <select name="criticidad_sap">
                <option value="">Seleccionar...</option>
                <option value="baja">Baja</option>
                <option value="media">Media</option>
                <option value="alta">Alta</option>
            </select>
        </label>
    </div>
    
    <label>Activo Hasta: 
        <input type="date" name="activo_hasta_sap">
    </label>
    
    <div class="section-title">DOCUMENTACI√ìN <span class="requerido">(Indicar un √∫nico grupo)</span></div>
    
    <!-- FILA DOCUMENTACI√ìN -->
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
        <label>Grupo Responsable Correo <span class="requerido">(*)</span>
            <input type="text" name="grupo_responsable_correo_sap" required>
        </label>
        
        <label>Grupo Responsable Service Now: 
            <input type="text" name="grupo_responsable_sn_sap">
        </label>
    </div>
    
    <!-- FILA ACCI√ìN Y OBSERVACIONES -->
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
        <label>Acci√≥n a Seguir si Cancela <span class="requerido">(*IMPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES)</span>
            <textarea name="accion_cancela_sap" required placeholder="IMPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES" rows="4"></textarea>
        </label>
        
        <label>Observaciones / Datos Complementarios / Notas:
            <textarea name="observaciones_sap" rows="4"></textarea>
        </label>
    </div>
    
    <button type="submit">Guardar</button>
</form>


<!------------------------- FORMULARIO SAP BUSINESS WAREHOUSE MODIFICADO ---------------------->

<form id="form-sap-business-warehouse" action="/formularios/sap-bw" method="post" class="custom-form" style="display:none;">
    <input type="hidden" name="tipo_job" value="sap-business-warehouse">
    
    <h2>üìä SAP Business Warehouse - Formulario Completo</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver</button>
    
    <!-- ========== INFORMACI√ìN B√ÅSICA ========== -->
    <div class="section-title">üìã INFORMACI√ìN B√ÅSICA</div>
    
    <label>Tipo de solicitud<span class="requerido">(*)</span>
        <select name="tipo_solicitud_sap_bw" required disabled class="campo-bloqueado">
            <option value="">Seleccionar...</option>
            <option value="alta">Alta</option>
            <option value="baja">Baja</option>
            <option value="modificacion">Modificaci√≥n</option>
        </select>
        <small>‚úì Seleccionado en el paso anterior</small>
    </label>
    
    <label>Ambiente<span class="requerido">(*)</span>
        <select name="ambiente_sap_bw" required disabled class="campo-bloqueado">
            <option value="">Seleccionar...</option>
            <option value="desarrollo">Desarrollo</option>
            <option value="testing">Testing</option>
            <option value="produccion">Producci√≥n</option>
        </select>
        <small>‚úì Seleccionado en el paso anterior</small>
    </label>
    
    <label>Ticket en Service Now:
        <input type="text" name="sn_sap_bw" placeholder="INC0123456">
        <small>N√∫mero de ticket si existe</small>
    </label>
    
    <!-- ========== GENERAL (de Control-M) ========== -->
    <div class="section-title">üìã General</div>
    
    <label>Job Name<span class="requerido">(*)</span>
        <input type="text" name="job_name_sap_bw" required placeholder="SAP_Business_Warehouse_Job#1">
        <small>Nombre √∫nico del job en Control-M</small>
    </label>
    
    <label>Description<span class="requerido">(*)</span>
        <textarea name="description_sap_bw" required rows="3" placeholder="Proceso de carga de datos en SAP BW..."></textarea>
    </label>
    
    <label>
        <input type="checkbox" name="run_as_dummy_sap_bw" value="si">
        Run as Dummy (solo para pruebas)
    </label>
    
    <!-- ========== WHAT (Configuraci√≥n) ========== -->
    <div class="section-title">üîß What - Configuraci√≥n del Proceso</div>
    
    <label>Connection Profile<span class="requerido">(*)</span>
        <input type="text" name="connection_profile_sap_bw" required placeholder="SAP_BW_Profile_01">
        <small>‚ö†Ô∏è Debe existir en CCM (Control-M Configuration Manager)</small>
    </label>
    
    <label>Process Type<span class="requerido">(*)</span>
        <select name="process_type_sap_bw" required class="process-type-select-bw">
            <option value="">Seleccionar...</option>
            <option value="process_chain">Process Chain</option>
            <option value="info_package">InfoPackage</option>
        </select>
    </label>
    
    <div id="process-chain-section-bw" class="ciclico-campos" style="display:none;">
        <div class="section-title">‚õìÔ∏è Process Chain Characteristics</div>
        
        <label>Select Process Chain<span class="requerido">(*)</span>
            <input type="text" name="select_process_chain_sap_bw" placeholder="Z_CARGA_VENTAS_MENSUAL">
            <small>Nombre t√©cnico del Process Chain en SAP BW</small>
        </label>
        
        <label>Description:
            <textarea name="process_chain_description_sap_bw" rows="2" placeholder="Descripci√≥n del Process Chain"></textarea>
        </label>
        
        <label>ID/Variant<span class="requerido">(*)</span>
            <input type="text" name="process_chain_id_sap_bw" placeholder="VARIANT_001">
        </label>
    </div>
    
    <label>ReRun Options (On Job Failure)<span class="requerido">(*)</span>
        <select name="rerun_options_sap_bw" required>
            <option value="restart_from_point_of_failure">Restart from point of failure</option>
            <option value="restart_from_beginning">Rerun from Start</option>
        </select>
    </label>
    
    <!-- ========== SAP - More ========== -->
    <div class="section-title">üìÇ Organizaci√≥n en Control-M</div>
    
    <label>Host/Host Group<span class="requerido">(*)</span>
        <input type="text" name="host_group_sap_bw" required placeholder="sapbw-prod-01.ypf.com">
        <small>Servidor o grupo donde est√° el Agent de Control-M</small>
    </label>
    
    <!-- ‚úÖ CONTROL-M SERVER - BLOQUEADO Y PRE-LLENADO -->
    <label>Control-M Server<span class="requerido">(*)</span>
        <select name="controlm_server_sap_bw" required disabled class="campo-bloqueado">
            <option value="">Seleccionar...</option>
            <option value="DESARROLLO">DESARROLLO</option>
            <option value="TESTING">TESTING</option>
            <option value="PRODUCCION">PRODUCCION</option>
            <option value="LABORATORIO">LABORATORIO</option>
        </select>
        <small>‚úì Autom√°tico seg√∫n ambiente seleccionado</small>
    </label>
    
    <!-- ‚úÖ PARENT FOLDER - AHORA ES SELECT CON OPCIONES -->
    <label>Parent Folder<span class="requerido">(*)</span>
        <select name="parent_folder_sap_bw" required>
            <option value="">Seleccionar...</option>
            <option value="Folder_SAP_BW_Finanzas">Folder_SAP_BW_Finanzas</option>
            <option value="Folder_SAP_BW_Ventas">Folder_SAP_BW_Ventas</option>
            <option value="Folder_SAP_BW_Compras">Folder_SAP_BW_Compras</option>
            <option value="Folder_SAP_BW_RRHH">Folder_SAP_BW_RRHH</option>
            <option value="Folder_SAP_BW_Logistica">Folder_SAP_BW_Logistica</option>
            <option value="Folder_SAP_BW_Produccion">Folder_SAP_BW_Produccion</option>
            <option value="Folder_SAP_BW_Reportes">Folder_SAP_BW_Reportes</option>
            <option value="otro">Otro (especificar en observaciones)</option>
        </select>
        <small>Carpeta en Control-M donde se ubicar√° el job</small>
    </label>
    
    <label>Application:
        <input type="text" name="application_sap_bw" placeholder="SAP_BW">
    </label>
    
    <label>Sub Application:
        <input type="text" name="sub_application_sap_bw" placeholder="FINANZAS">
    </label>
    
    <label>
        <input type="checkbox" name="run_on_all_hosts_sap_bw" value="si">
        Run job on all hosts in group
    </label>
    
    <label>Instancia de Aplicaci√≥n en SN<span class="requerido">(*)</span>
        <input type="text" name="instancia_sap_bw" required placeholder="SAP_BW_PRODUCCION">
        <small>Nombre de la instancia en Service Now</small>
    </label>
    
    <!-- ========== SCHEDULING (Frecuencia) ========== -->
    <div class="section-title">üìÖ Scheduling - Frecuencia de Ejecuci√≥n</div>
    
    <label>D√≠as de la semana:
        <input type="text" name="dias_semana_sap_bw" placeholder="L,M,Mi,J,V">
        <small>L,M,Mi,J,V,S,D - Dejar vac√≠o para todos los d√≠as</small>
    </label>
    
    <label>D√≠as del mes:
        <input type="text" name="dias_mes_sap_bw" placeholder="1,15,30">
        <small>N√∫meros del 1-31 separados por comas</small>
    </label>
    
    <label>Mes/es:
        <select name="meses_sap_bw">
            <option value="todos">Todos los meses</option>
            <option value="enero">Enero</option>
            <option value="febrero">Febrero</option>
            <option value="marzo">Marzo</option>
            <option value="abril">Abril</option>
            <option value="mayo">Mayo</option>
            <option value="junio">Junio</option>
            <option value="julio">Julio</option>
            <option value="agosto">Agosto</option>
            <option value="septiembre">Septiembre</option>
            <option value="octubre">Octubre</option>
            <option value="noviembre">Noviembre</option>
            <option value="diciembre">Diciembre</option>
        </select>
    </label>
    
    <label>Fecha √∫nica:
        <input type="date" name="fecha_unica_sap_bw">
        <small>Solo si se ejecuta una √∫nica vez</small>
    </label>
    
    <label>Hora de ejecuci√≥n:
        <input type="time" name="hora_sap_bw">
    </label>
    
    <label>¬øEs C√≠clico?
        <select name="ciclico_sap_bw" class="ciclico-select">
            <option value="no">No</option>
            <option value="si">S√≠</option>
        </select>
        <small>Se ejecuta repetidamente en un rango de horas</small>
    </label>
    
    <div class="ciclico-campos" style="display:none;">
        <label>Hora desde:
            <input type="time" name="hora_desde_sap_bw">
        </label>
        
        <label>Hora hasta:
            <input type="time" name="hora_hasta_sap_bw">
        </label>
        
        <label>Intervalo (minutos):
            <input type="number" name="intervalo_sap_bw" placeholder="30" min="1" max="1440">
        </label>
        
        <label>Desde:
            <select name="desde_sap_bw">
                <option value="">Seleccionar...</option>
                <option value="fin">Fin</option>
                <option value="principio">Principio</option>
            </select>
        </label>
    </div>
    
    <label>Activo desde:
        <input type="date" name="activo_desde_sap_bw">
    </label>
    
    <label>Activo hasta:
        <input type="date" name="activo_hasta_sap_bw">
    </label>
    
    <!-- ========== PREREQUISITES (Dependencias) ========== -->
    <div class="section-title">üîó Prerequisites - Dependencias</div>
    
    <label>Si tiene dependencias indicar cuales:
        <textarea name="dependencias_sap_bw" rows="3" placeholder="JOB_ANTERIOR.TO.JOB_ACTUAL"></textarea>
        <small>Jobs que deben terminar antes de ejecutar este</small>
    </label>
    
    <label>Criticidad:
        <select name="criticidad_sap_bw">
            <option value="">Seleccionar...</option>
            <option value="baja">Baja</option>
            <option value="media">Media</option>
            <option value="alta">Alta</option>
            <option value="critica">Cr√≠tica</option>
        </select>
    </label>
    
    <!-- ========== VARIABLES ========== -->
    <div class="section-title">üî¢ Variables</div>
    
    <label>Created By:
        <input type="text" name="created_by_sap_bw" value="" placeholder="Usuario que solicita" readonly style="background-color:#e9ecef;">
    </label>
    
    <div class="campos-dinamicos" id="contenedor-variables-sap-bw">
        <p><strong>Variables adicionales (opcional):</strong></p>
        <div class="fila-dinamica">
            <input type="text" name="var_nombre_sap_bw[]" placeholder="Nombre variable">
            <input type="text" name="var_valor_sap_bw[]" placeholder="Valor">
            <button type="button" class="btn-eliminar" onclick="eliminarVariableSapBw(this)">‚ùå</button>
        </div>
    </div>
    
    <button type="button" class="btn-agregar" onclick="agregarVariableSapBw()">
        ‚ûï Agregar Variable
    </button>
    
    <!-- ========== DOCUMENTATION ========== -->
    <div class="section-title">üìÑ Documentation</div>
    
    <label>Type:
        <select name="doc_type_sap_bw">
            <option value="file">File</option>
            <option value="url">URL</option>
            <option value="text">Text</option>
            <option value="none">Sin documentaci√≥n</option>
        </select>
    </label>
    
    <label>Doc Path:
        <input type="text" name="doc_path_sap_bw" placeholder="\\servidor\documentacion\sap_bw\proceso.pdf">
    </label>
    
    <label>Doc File:
        <input type="text" name="doc_file_sap_bw" placeholder="manual_proceso.pdf">
    </label>
    
    <!-- ========== PRIORITY ========== -->
    <div class="section-title">‚ö° Priority</div>
    
    <label>Priority:
        <input type="number" name="priority_sap_bw" min="0" max="999" placeholder="50">
        <small>0-999, mayor n√∫mero = mayor prioridad</small>
    </label>
    
    <label>
        <input type="checkbox" name="critical_resource_sap_bw" value="si">
        Critical (reserve resources)
    </label>
    
    <!-- ========== RESPONSABLES ========== -->
    <div class="section-title">üë• RESPONSABLES Y NOTIFICACIONES</div>
    
    <label>Grupo Responsable Correo<span class="requerido">(*)</span>
        <input type="text" name="grupo_responsable_correo_sap_bw" required placeholder="soporte_sap_bw@ypf.com">
    </label>
    
    <label>Grupo Responsable Service Now:
        <input type="text" name="grupo_responsable_sn_sap_bw" placeholder="SAP BW - Soporte">
    </label>
    
    <label>Acci√≥n a seguir si cancela<span class="requerido">(*)</span>
        <textarea name="accion_cancela_sap_bw" required rows="4" placeholder="IMPORTANTE: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES&#10;&#10;Procedimiento:&#10;1. Verificar logs en SM37&#10;2. Revisar Process Chain en RSPC&#10;3. Contactar grupo responsable"></textarea>
    </label>
    
    <label>Observaciones / Datos Complementarios:
        <textarea name="observaciones_sap_bw" rows="3" placeholder="Informaci√≥n adicional relevante..."></textarea>
    </label>
    
    <button type="submit">üíæ Guardar Solicitud</button>
</form>

<!---------------------- FORMULARIO FILE TRANSFER COMPLETO ------------------------------------>

<form id="form-file-transfer" action="/formularios/file-transfer" method="post" class="custom-form" style="display:none;">
    <input type="hidden" name="tipo_job" value="file-transfer">
    <h2>Campo FILE-TRANSFER</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    <label>Tipo de solicitud<span class="requerido">(*)</span>
        <select name="tipo_solicitud_aft">
            <option value="">Seleccionar...</option>
            <option value="alta">Alta</option>
            <option value="baja">Baja</option>
            <option value="modificacion">Modificaci√≥n</option>
        </select>
    </label>
    
    <label>Ambiente<span class="requerido">(*)</span>
        <select name="ambiente_aft">
            <option value="">Seleccionar...</option>
            <option value="desarrollo">Desarrollo</option>
            <option value="testing">Testing</option>
            <option value="produccion">Producci√≥n</option>
        </select>
    </label>
    
    <label>Ticket en Service Now: <input type="text" name="sn_aft"></label>
    <label>Jobname: <input type="text" name="jobname_aft"></label>
    <label>Descripci√≥n del proceso<span class="requerido">(*)</span> <input type="text" name="descripcion_aft" required></label>
    <label>Instancia de aplicaci√≥n en Service Now<span class="requerido">(*)</span> <input type="text" name="instancia_aft" required></label>
    
    <div class="section-title">Configuraci√≥n ORIGEN</div>
    <label>Servidor Origen<span class="requerido">(*)</span> <input type="text" name="servidor_origen_aft" required></label>
    <label>Carpeta Origen<span class="requerido">(*)</span> <input type="text" name="carpeta_origen_aft" required></label>
    <label>Usuario Origen<span class="requerido">(*)</span> <input type="text" name="usuario_origen_aft" required></label>
    <label>Archivos a Transmitir<span class="requerido">(*)</span> <input type="text" name="archivos_transmitir_aft" required></label>
    
    <div class="section-title">Configuraci√≥n DESTINO</div>
    <label>Servidor Destino <span class="requerido">(*)</span><input type="text" name="servidor_destino_aft" required></label>
    <label>Carpeta Destino<span class="requerido">(*)</span> <input type="text" name="carpeta_destino_aft" required></label>
    <label>Usuario Destino<span class="requerido">(*)</span> <input type="text" name="usuario_destino_aft" required></label>
    <label>Nombre del archivo en Destino<span class="requerido">(*)</span> <input type="text" name="nombre_destino_aft" required></label>
    
    <label>Si archivo existe en Destino<span class="requerido">(*)</span>
        <select name="archivo_existe_aft">
            <option value="">Seleccionar...</option>
            <option value="overwrite">OVERWRITE</option>
            <option value="append">APPEND</option>
            <option value="abort">ABORT</option>
            <option value="skip">SKIP</option>
        </select>
    </label>
    
    <label>Copia Recursiva<span class="requerido">(*)</span>
        <select name="copia_recursiva_aft">
            <option value="">Seleccionar...</option>
            <option value="si">S√≠</option>
            <option value="no">No</option>
        </select>
    </label>
    
    <label>Luego de Copia OK<span class="requerido">(*)</span>
        <select name="copia_ok_aft">
            <option value="">Seleccionar...</option>
            <option value="left_as_is">LEFT AS IS</option>
            <option value="delete">DELETE</option>
            <option value="rename">RENAME</option>
        </select>
    </label>
    
    <div class="section-title">Frecuencia de ejecuci√≥n<span class="requerido">(*)</span></div>
    <label>D√≠as de la semana: <input type="text" name="dias_semana_aft" required></label>
    <label>D√≠as del mes: <input type="text" name="dias_mes_aft" required></label>
    <label>Mes/es:
        <select name="meses_aft">
            <option value="">Todos</option>
            <option value="enero">Enero</option>
            <option value="febrero">Febrero</option>
            <option value="marzo">Marzo</option>
            <option value="abril">Abril</option>
            <option value="mayo">Mayo</option>
            <option value="junio">Junio</option>
            <option value="julio">Julio</option>
            <option value="agosto">Agosto</option>
            <option value="septiembre">Septiembre</option>
            <option value="octubre">Octubre</option>
            <option value="noviembre">Noviembre</option>
            <option value="diciembre">Diciembre</option>
        </select>
    </label>
    <label>Fecha √∫nica: <input type="date" name="fecha_unica_aft"></label>
    <label>Hora: <input type="time" name="hora_aft" required></label>
     <label>C√≠clico:
        <select name="ciclico_sap" class="ciclico-select">
            <option value="no">No</option>
            <option value="si">S√≠</option>
        </select>
    </label>
    <div class="ciclico-campos" style="display: none;">
        <label>Hora desde: <input type="time" name="hora_desde_sap"></label>
        <label>Hora hasta: <input type="time" name="hora_hasta_sap"></label>
        <label>Intervalo (minutos): <input type="number" name="intervalo_sap" placeholder="30"></label>
        <label>Desde:
            <select name="desde_sap">
                <option value="">Seleccionar...</option>
                <option value="fin">Fin</option>
                <option value="principio">Principio</option>
            </select>
        </label>
    </div>
    <label>Activo desde: <input type="date" name="activo_desde_aft"></label>
    <label>Activo hasta: <input type="date" name="activo_hasta_aft"></label>
    
    <label>Si tiene dependencias indicar cuales: 
        <textarea name="dependencias_aft" placeholder="JOB.TO.JOB"></textarea>
    </label>
    
    <label>Criticidad:
        <select name="criticidad_aft">
            <option value="">Seleccionar...</option>
            <option value="baja">Baja</option>
            <option value="media">Media</option>
            <option value="alta">Alta</option>
        </select>
    </label>
    
    <div class="section-title">DOCUMENTACI√ìN<span class="requerido">(Indicar un √∫nico grupo)</span></div>
    <label>Grupo responsable correo<span class="requerido">(*)</span> <input type="text" name="grupo_responsable_correo_aft" required></label>
    <label>Grupo responsable Service Now: <input type="text" name="grupo_responsable_sn_aft"></label>
    <label>Acci√≥n a seguir si cancela <span class="requerido">(*)-IMPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES</span> 
        <textarea name="accion_cancela_aft" required></textarea>
    </label>
    <label>Observaciones / Datos Complementarios / Notas 
        <textarea name="observaciones_aft"></textarea>
    </label>
    
    <button type="submit">Guardar</button>
</form>

<!----------------- FORMULARIO DATABASE COMPLETO --------------------------->

<form id="form-database" class="custom-form" style="display:none;">
    <h2>Campo DATABASE</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    <label>TIPO DE SOLICITUD <span class="requerido">(*)</span>
        <select name="tipo_solicitud_db" required>
            <option value="">Seleccionar...</option>
            <option value="alta">Alta</option>
            <option value="baja">Baja</option>
            <option value="modificacion">Modificaci√≥n</option>
        </select>
    </label>
    
    <label>AMBIENTE <span class="requerido">(*)</span>
        <select name="ambiente_db" required>
            <option value="">Seleccionar...</option>
            <option value="desarrollo">Desarrollo</option>
            <option value="testing">Testing</option>
            <option value="produccion">Producci√≥n</option>
            <option value="homologacion">Laboratorio</option>
        </select>
    </label>
    
    <label>Ticket en Service Now: <input type="text" name="sn_db"></label>
    <label>JOBNAME: <input type="text" name="jobname_db"></label>
    
    <label>DESCRIPCI√ìN DEL PROCESO <span class="requerido">(*)</span>
        <textarea name="descripcion_db" required placeholder="Ejecuta un Stored Procedure para enviar informacion a la tabla EC_COMPLETACIONES_DETALLE"></textarea>
    </label>
    
    <div class="section-title">Configuraci√≥n de Base de Datos</div>
    
    <label>TIPO DE BD <span class="requerido">(*)</span>
        <select name="tipo_bd" required>
            <option value=""></option>
            <option value="mssql">MSSQL</option>
            <option value="oracle">Oracle</option>
            <option value="db2">DB2</option>
            <option value="mysql">MySQL</option>
            <option value="sybase">Sybase</option>
            <option value="postgresql">PostgreSQL</option>
        </select>
    </label>
    
    <label>VERSION DE BD <span class="requerido">(*)</span>
        <input type="text" name="version_bd" placeholder="10g" required>
    </label>
    <label>Instancia de Aplicaci√≥n en SN<span class="requerido">(*)</span>
        <input type="text" name="version_bd" placeholder="10g" required>
    </label>
    
    <label>SERVIDOR / HOSTNAME <span class="requerido">(*)</span>
        <input type="text" name="servidor_db" placeholder="nombre servidor" required>
    </label>
    
    <label>NOMBRE DE LA BASE DE DATOS <span class="requerido">(*)</span>
        <input type="text" name="nombre_bd" placeholder="nombre base de datos" required>
    </label>
    
    <label>PUERTO<span class="requerido">(*)</span> <input type="text" name="puerto_db"required placeholder="ej 1234"></label>
    
    <label>TIPO DE AUTENTICACION <span class="requerido">(*)</span>
        <select name="tipo_auth_db" required>
            <option value=""></option>
            <option value="windows">Windows Authentication</option>
            <option value="sql">SQL Server Authentication</option>
            <option value="ntlm2">NTLM2 Windows Authentication</option>
        </select>
    </label>
    
    <label>USUARIO DE BD <span class="requerido">(*)</span>
        <input type="text" name="usuario_db" placeholder="usuario db" required>
    </label>
    
    <label>TIPO DE EJECUCION <span class="requerido">(*)</span>
        <select name="tipo_ejecucion_db" required>
            <option value=""></option>
            <option value="stored-procedure">STORED PROCEDURE</option>
            <option value="sql-script">SQL Script</option>
            <option value="embedded query">Embedded Query</option>
            <option value="ssis package">SSIS Package</option>
            <option value="mssql agent job">MSSQL Agent Job</option>
        </select>
    </label>
    
    <label>SCHEMA <span class="requerido">(*)</span>
        <input type="text" name="schema_db" placeholder="schema" required>
    </label>
    
    <label>PACKAGE: <input type="text" name="package_db"required placeholder="N/A"></label>
    
    <label>NOMBRE STORED PROCEDURE<span class="requerido">(*)</span> <input type="text" name="nombre_sp_db"required placeholder="nombre S_P"></label>
    
    <div class="section-title">FRECUENCIA de EJECUCI√ìN <span class="requerido">(*)</span></div>
    
    <label>D√≠as de la Semana: <input type="text" name="dias_semana_db"required placeholder="Todos"></label>
    <label>D√≠as del Mes: <input type="text" name="dias_mes_db" required placeholder="Todos"></label>
    <label>Mes/es:
        <select name="meses_db">
            <option value="todos">TODOS</option>
            <option value="enero">Enero</option>
            <option value="febrero">Febrero</option>
            <option value="marzo">Marzo</option>
            <option value="abril">Abril</option>
            <option value="mayo">Mayo</option>
            <option value="junio">Junio</option>
            <option value="julio">Julio</option>
            <option value="agosto">Agosto</option>
            <option value="septiembre">Septiembre</option>
            <option value="octubre">Octubre</option>
            <option value="noviembre">Noviembre</option>
            <option value="diciembre">Diciembre</option>
        </select>
    </label>
    <label>Fecha √önica: <input type="date" name="fecha_unica_db"></label>
    <label>Hora: <input type="time" name="hora_db" required></label>
    <label>C√çCLICO?
        <select name="ciclico_db" class="ciclico-select">
            <option value="no">NO</option>
            <option value="si">SI</option>
        </select>
    </label>
    <div class="ciclico-campos" style="display: none;">
        <label>Hora Desde: <input type="time" name="hora_desde_db"></label>
        <label>Hora Hasta: <input type="time" name="hora_hasta_db"></label>
        <label>Intervalo: <input type="number" name="intervalo_db"></label>
        <label>Desde:
            <select name="desde_db">
                <option value=""></option>
                <option value="fin">Fin</option>
                <option value="principio">Principio</option>
            </select>
        </label>
    </div>
    
    <label>Activo Desde: <input type="date" name="activo_desde_db"></label>
    <label>Activo Hasta: <input type="date" name="activo_hasta_db"></label>
    
    <label>Si tiene dependencias indicar cuales: 
        <textarea name="dependencias_db"></textarea>
    </label>
    
    <div class="section-title">DOCUMENTACI√ìN <span class="requerido">(Indicar un √∫nico grupo)</span></div>
    
    <label>Grupo Responsable Correo <span class="requerido">(*)</span>
        <input type="text" name="grupo_responsable_correo_db" required>
    </label>
    
    <label>Grupo Responsable Service Now: <input type="text" name="grupo_responsable_sn_db"></label>
    
    <label>Acci√≥n a Seguir si Cancela <span class="requerido">(*MPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES)</span>
        <textarea name="accion_cancela_db" required placeholder="IMPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES"></textarea>
    </label>
    
    <label>Observaciones / Datos Complementarios / Notas:
        <textarea name="observaciones_db"></textarea>
    </label>
    
    <button type="submit">Guardar</button>
</form>

<!------------- FORMULARIO SAP BTP SCHEDULER CONNECTION PROFILE -------------------->

<form id="form-sap-btp-scheduler" class="custom-form" style="display:none;">
    <h2>Add SAP BTP Scheduler Connection Profile</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    
    <!-- Connection Profile Name -->
    <label>Connection Profile Name <span class="requerido">(*Required)</span>
        <!-- <input type="text" name="connection_profile_name_sap_btp" required placeholder="Enter connection profile name"> -->
    </label>
    
    <!-- Description -->
    <label>Description
        <textarea name="description_sap_btp" placeholder="Enter description"></textarea>
    </label>
    
    <!-- Client ID -->
    <label>Client ID
        <input type="text" name="client_id_sap_btp" placeholder="Enter client ID">
    </label>
    
    <!-- Client Secret -->
    <label>Client Secret
        <input type="password" name="client_secret_sap_btp" placeholder="Enter client secret">
    </label>
    
    <!-- SAP Authentication URL -->
    <label>SAP Authentication URL
        <input type="text" name="sap_authentication_url" placeholder="https://<Domain Name>.authentication.<Region>.hana.ondemand.com/oauth/token">
    </label>
    
    <!-- Trigger URL -->
    <label>Trigger URL
        <input type="text" name="trigger_url_sap" placeholder="https://jobscheduler-rest.cfapps.<Region>.hana.ondemand.com">
    </label>
    
    <!-- Re-Run Execution Parameters -->
    <div class="section-title" style="margin-top: 20px;">Re-Run Execution Parameters</div>
    
    <!-- HTTP Codes -->
    <label>HTTP Codes
        <input type="text" name="http_codes_sap_btp" placeholder="503" value="503">
    </label>
    
    <!-- Rerun Interval -->
    <label>Rerun Interval
        <input type="number" name="rerun_interval_sap_btp" placeholder="10" value="10" min="0">
    </label>
    
    <!-- Attempt Reruns -->
    <label>Attempt Reruns
        <input type="number" name="attempt_reruns_sap_btp" placeholder="3" value="3" min="0">
    </label>
    
    <!-- Connection Timeout -->
    <label>Connection Timeout
        <input type="number" name="connection_timeout_sap_btp" placeholder="60" value="60" min="0">
    </label>
    
    <!-- CAMPOS COMUNES DE CONTROL-M -->
    <div class="section-title" style="margin-top: 30px;">Configuraci√≥n Control-M</div>
    
    <label>Tipo de Frecuencia:
        <select name="frecuencia_sap_btp">
            <option value="diaria">Diaria</option>
            <option value="semanal">Semanal</option>
            <option value="mensual">Mensual</option>
            <option value="on-demand">On-Demand</option>
        </select>
    </label>
    
    <label>Horario de Ejecuci√≥n:
        <input type="time" name="horario_sap_btp">
    </label>
    
    <label>Dependencias (Prerequisitos):
        <textarea name="dependencias_sap_btp" placeholder="Jobs de los cuales depende este job"></textarea>
    </label>
    
    <label>Acciones en caso de Error:
        <select name="error_sap_btp">
            <option value="notificar">Notificar</option>
            <option value="reintentar">Reintentar</option>
            <option value="detener">Detener flujo</option>
        </select>
    </label>
    
    <label>Documentaci√≥n / Observaciones / Datos Complementarios / Notas:
        <textarea name="observaciones_sap_btp"></textarea>
    </label>
    
    <!-- Botones de acci√≥n -->
    <div style="display: flex; gap: 10px; margin-top: 30px;">
        <button type="button" class="btn-volver" style="background: #6c757d;">Test</button>
        <button type="submit" style="background: #ff6600; flex: 0 0 auto; width: auto; padding: 16px 40px;">Add</button>
        <button type="button" class="btn-volver" onclick="volverAlPaso3()">Cancel</button>
    </div>
</form>


<!-----------------------FoRMULARIO WEB SERVICES REST CONNECTION PROFILE------------->

<form id="form-web-services-rest" class="custom-form" style="display:none;">
    <h2>Add Web Services REST Connection Profile</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    
    <!-- Connection Profile Name -->
    <label>Connection Profile Name <span class="requerido">((*)-Required)</span>
        <!-- <input type="text" name="connection_profile_name_rest" required placeholder="Enter connection profile name"> -->
    </label>
    
    <!-- Description -->
    <label>Description
        <textarea name="description_rest" placeholder="Enter description"></textarea>
    </label>
    
    <!-- Authentication Type -->
    <label>Authentication Type
        <select name="authentication_type_rest" id="auth-type-rest" onchange="cambiarAuthTypeRest(this.value)">
            <option value="none">None</option>
            <option value="basic">Basic</option>
            <option value="oauth2">OAuth2</option>
            <option value="aws">AWS</option>
            <option value="google">Google</option>
        </select>
    </label>
    
    <!-- SECCI√ìN BASIC (se muestra cuando Authentication Type = Basic) -->
    <div id="section-basic-rest" style="display:none;">
        <label>User Name <span class="requerido">(*Required)</span>
            <input type="text" name="user_name_rest" placeholder="Enter user name">
        </label>
        
        <label>Password <span class="requerido">(*Required)</span>
            <input type="password" name="password_rest" placeholder="Enter password">
        </label>
        
        <label style="display: flex; align-items: center; gap: 8px;">
            <input type="checkbox" name="use_preemptive_auth" style="width: auto;">
            Use preemptive authentication
        </label>
    </div>
    
    <!-- SECCI√ìN OAUTH2 (se muestra cuando Authentication Type = OAuth2) -->
    <div id="section-oauth2-rest" style="display:none;">
        <label style="display: flex; align-items: center; gap: 8px;">
            <input type="checkbox" name="use_basic_authentication" style="width: auto;">
            Use basic authentication
        </label>
        
        <label>OAuth2 API URL <span class="requerido">(*Required)</span>
            <input type="text" name="oauth2_api_url" placeholder="Enter OAuth2 API URL">
        </label>
        
        <label>Grant Type
            <select name="grant_type">
                <option value="client_credentials">Client credentials</option>
                <option value="authorization_code">Authorization code</option>
                <option value="password">Password</option>
            </select>
        </label>
        
        <label>Client ID
            <input type="text" name="client_id_rest" placeholder="Enter client ID">
        </label>
        
        <label>Client Secret
            <input type="password" name="client_secret_rest" placeholder="Enter client secret">
        </label>
        
        <label>Content Type
            <input type="text" name="content_type_rest" placeholder="Enter content type">
        </label>
        
        <label>Headers
            <button type="button" class="btn-expandir" onclick="alert('Funcionalidad de Headers en desarrollo')">‚ûï</button>
        </label>
        
        <label>Body
            <button type="button" class="btn-expandir" onclick="alert('Funcionalidad de Body en desarrollo')">‚ûï</button>
        </label>
    </div>
    
    <!-- SECCI√ìN AWS (se muestra cuando Authentication Type = AWS) -->
    <div id="section-aws-rest" style="display:none;">
        <label>Region <span class="requerido">(*Required)</span>
            <input type="text" name="region_aws" placeholder="Enter AWS region">
        </label>
        
        <label>Custom Service Name
            <input type="text" name="custom_service_name" placeholder="Enter custom service name">
        </label>
        
        <label>Authentication Method
            <select name="authentication_method_aws" id="auth-method-aws" onchange="cambiarAuthMethodAws(this.value)">
                <option value="iam_role">IAM Role</option>
                <option value="access_secret_keys">Access & Secret Keys</option>
            </select>
        </label>
        
        <!-- Campos para Access & Secret Keys (se muestran solo si se selecciona esa opci√≥n) -->
        <div id="section-aws-keys" style="display:none;">
            <label>Access Key
                <input type="text" name="access_key_aws" placeholder="Enter access key">
            </label>
            
            <label>Secret Key
                <input type="password" name="secret_key_aws" placeholder="Enter secret key">
            </label>
        </div>
    </div>
    
    <!-- SECCI√ìN GOOGLE (se muestra cuando Authentication Type = Google) -->
    <div id="section-google-rest" style="display:none;">
        <label>Token Type
            <select name="token_type_google" id="token-type-google">
                <option value="access_token">Access token</option>
                <option value="identity_token">Identity token</option>
            </select>
        </label>
        
        <label>Service Account Key <span class="requerido">(*Required)</span>
            <textarea name="service_account_key" placeholder="Enter service account key (JSON format)" rows="6"></textarea>
        </label>
    </div>
    
    <!-- CAMPOS COMUNES DE CONTROL-M (igual que en los otros formularios) -->
    <div class="section-title" style="margin-top: 30px;">Configuraci√≥n Control-M</div>
    
    <label>Tipo de Frecuencia:
        <select name="frecuencia_rest">
            <option value="diaria">Diaria</option>
            <option value="semanal">Semanal</option>
            <option value="mensual">Mensual</option>
            <option value="on-demand">On-Demand</option>
        </select>
    </label>
    
    <label>Horario de Ejecuci√≥n:
        <input type="time" name="horario_rest">
    </label>
    
    <label>Dependencias (Prerequisitos):
        <textarea name="dependencias_rest" placeholder="Jobs de los cuales depende este job"></textarea>
    </label>
    
    <label>Acciones en caso de Error:
        <select name="error_rest">
            <option value="notificar">Notificar</option>
            <option value="reintentar">Reintentar</option>
            <option value="detener">Detener flujo</option>
        </select>
    </label>
    
    <label>Documentaci√≥n / Observaciones / Datos Complementarios / Notas:
        <textarea name="observaciones_rest"></textarea>
    </label>
    
    <!-- Botones de acci√≥n -->
    <div style="display: flex; gap: 10px; margin-top: 30px;">
        <button type="button" class="btn-volver" style="background: #6c757d;">Test</button>
        <button type="submit" style="background: #ff6600; flex: 0 0 auto; width: auto; padding: 16px 40px;">Add</button>
        <button type="button" class="btn-volver" onclick="volverAlPaso3()">Cancel</button>
    </div>
</form>

<!-------------------- FORMULARIO VEEAM BACKUP CONNECTION PROFILE -------------------------->

<form id="form-veeam-backup" class="custom-form" style="display:none;">
    <h2>Add Veeam Backup Connection Profile</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    
    <!-- Connection Profile Name -->
    <label>Connection Profile Name <span class="requerido">(*Required)</span>
        <!-- <input type="text" name="connection_profile_name_veeam" required placeholder="Enter connection profile name"> -->
    </label>
    
    <!-- Description -->
    <label>Description
        <textarea name="description_veeam" placeholder="Enter description"></textarea>
    </label>
    
    <!-- Enterprise Manager Server -->
    <label>Enterprise Manager Server
        <input type="text" name="enterprise_manager_server" placeholder="Enter Enterprise Manager Server">
    </label>
    
    <!-- URL -->
    <label>URL
        <input type="text" name="url_veeam" placeholder="https://{{EMServer}}:9398" value="https://{{EMServer}}:9398">
    </label>
    
    <!-- API Supported Version -->
    <label>API Supported Version
        <input type="text" name="api_supported_version" placeholder="latest" value="latest">
    </label>
    
    <!-- Username -->
    <label>Username
        <input type="text" name="username_veeam" placeholder="Enter username">
    </label>
    
    <!-- Password -->
    <label>Password
        <input type="password" name="password_veeam" placeholder="Enter password">
    </label>
    
    <!-- HTTP Codes -->
    <label>HTTP Codes
        <input type="text" name="http_codes_veeam" placeholder="429" value="429">
    </label>
    
    <!-- Rerun Interval -->
    <label>Rerun Interval
        <input type="number" name="rerun_interval_veeam" placeholder="10" value="10" min="0">
    </label>
    
    <!-- Attempt Reruns -->
    <label>Attempt Reruns
        <input type="number" name="attempt_reruns_veeam" placeholder="3" value="3" min="0">
    </label>
    
    <!-- Connection Timeout -->
    <label>Connection Timeout
        <input type="number" name="connection_timeout_veeam" placeholder="30" value="30" min="0">
    </label>
    
    <!-- CAMPOS COMUNES DE CONTROL-M -->
    <div class="section-title" style="margin-top: 30px;">Configuraci√≥n Control-M</div>
    
    <label>Tipo de Frecuencia:
        <select name="frecuencia_veeam">
            <option value="diaria">Diaria</option>
            <option value="semanal">Semanal</option>
            <option value="mensual">Mensual</option>
            <option value="on-demand">On-Demand</option>
        </select>
    </label>
    
    <label>Horario de Ejecuci√≥n:
        <input type="time" name="horario_veeam">
    </label>
    
    <label>Dependencias (Prerequisitos):
        <textarea name="dependencias_veeam" placeholder="Jobs de los cuales depende este job"></textarea>
    </label>
    
    <label>Acciones en caso de Error:
        <select name="error_veeam">
            <option value="notificar">Notificar</option>
            <option value="reintentar">Reintentar</option>
            <option value="detener">Detener flujo</option>
        </select>
    </label>
    
    <label>Documentaci√≥n / Observaciones / Datos Complementarios / Notas:
        <textarea name="observaciones_veeam"></textarea>
    </label>
    
    <!-- Botones de acci√≥n -->
    <div style="display: flex; gap: 10px; margin-top: 30px;">
        <button type="button" class="btn-volver" style="background: #6c757d;">Test</button>
        <button type="submit" style="background: #ff6600; flex: 0 0 auto; width: auto; padding: 16px 40px;">Add</button>
        <button type="button" class="btn-volver" onclick="volverAlPaso3()">Cancel</button>
    </div>
</form>

<!---------------------FORMULARIO AZURE APP SERVICES COMPLETO ---------------------------------------->

<form id="form-azure-webjob" class="custom-form" style="display:none;">
    <h2>Add Azure App Services Webjobs Connection Profile</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    
    <!-- Connection Profile Name -->
    <label>Connection Profile Name <span class="requerido">(*Required)</span>
        <!-- <input type="text" name="connection_profile_name" required placeholder="Enter connection profile name"> -->
    </label>
    
    <!-- Description -->
    <label>Description
        <textarea name="description_azure" placeholder="Enter description"></textarea>
    </label>
    
    <div class="section-title">Subscription</div>
    
    <!-- Subscription ID -->
    <label>Subscription ID
        <input type="text" name="subscription_id" placeholder="Enter subscription ID">
    </label>
    
    <div class="section-title">Identity</div>
    
    <!-- Authentication Type -->
    <label>Authentication Type
        <select name="authentication_type">
            <option value="service_principal">Service Principal</option>
            <option value="managed_identity">Managed Identity</option>
            <option value="user_identity">User Identity</option>
        </select>
    </label>
    
    <!-- Tenant ID -->
    <label>Tenant ID
        <input type="text" name="tenant_id" placeholder="Enter tenant ID">
    </label>
    
    <!-- Application ID -->
    <label>Application ID
        <input type="text" name="application_id" placeholder="Enter application ID">
    </label>
    
    <!-- Client Secret -->
    <label>Client Secret
        <input type="password" name="client_secret_azure" placeholder="Enter client secret">
    </label>
    
    <div class="section-title">URL Information</div>
    
    <!-- Login URL -->
    <label>Login URL
        <input type="text" name="login_url" value="https://login.microsoftonline.com" placeholder="https://login.microsoftonline.com">
    </label>
    
    <!-- Management URL -->
    <label>Management URL
        <input type="text" name="management_url" value="https://management.azure.com" placeholder="https://management.azure.com">
    </label>
    
    <!-- Connection Timeout -->
    <label>Connection Timeout
        <input type="number" name="connection_timeout" value="50" placeholder="50">
    </label>
    
    <div class="section-title">Rerun Step</div>
    
    <!-- HTTP Codes -->
    <label>HTTP Codes
        <input type="text" name="http_codes" value="429" placeholder="429">
    </label>
    
    <!-- Rerun Interval -->
    <label>Rerun Interval
        <input type="number" name="rerun_interval" value="10" placeholder="10">
    </label>
    
    <!-- Attempt Reruns -->
    <label>Attempt Reruns
        <input type="number" name="attempt_reruns" value="3" placeholder="3">
    </label>
    
    <div class="section-title">FRECUENCIA de EJECUCI√ìN <span class="requerido">(*)</span></div>
    
    <label>D√≠as de la Semana: <input type="text" name="dias_semana_azure" placeholder="L,M,Mi,J,V"></label>
    <label>D√≠as del Mes: <input type="text" name="dias_mes_azure" placeholder="1,15,30"></label>
    <label>Mes/es:
        <select name="meses_azure">
            <option value="todos">TODOS</option>
            <option value="enero">Enero</option>
            <option value="febrero">Febrero</option>
            <option value="marzo">Marzo</option>
            <option value="abril">Abril</option>
            <option value="mayo">Mayo</option>
            <option value="junio">Junio</option>
            <option value="julio">Julio</option>
            <option value="agosto">Agosto</option>
            <option value="septiembre">Septiembre</option>
            <option value="octubre">Octubre</option>
            <option value="noviembre">Noviembre</option>
            <option value="diciembre">Diciembre</option>
        </select>
    </label>
    <label>Fecha √önica: <input type="date" name="fecha_unica_azure"></label>
    <label>Hora: <input type="time" name="hora_azure"></label>
    <label>C√çCLICO?
        <select name="ciclico_azure" class="ciclico-select">
            <option value="no">NO</option>
            <option value="si">SI</option>
        </select>
    </label>
    <div class="ciclico-campos" style="display: none;">
        <label>Hora Desde: <input type="time" name="hora_desde_azure"></label>
        <label>Hora Hasta: <input type="time" name="hora_hasta_azure"></label>
        <label>Intervalo (minutos): <input type="number" name="intervalo_azure"></label>
        <label>Desde:
            <select name="desde_azure">
                <option value="">Seleccionar...</option>
                <option value="fin">Fin</option>
                <option value="principio">Principio</option>
            </select>
        </label>
    </div>
    
    <label>Activo Desde: <input type="date" name="activo_desde_azure"></label>
    <label>Activo Hasta: <input type="date" name="activo_hasta_azure"></label>
    
    <label>Si tiene dependencias indicar cuales: 
        <textarea name="dependencias_azure" placeholder="JOB.TO.JOB"></textarea>
    </label>
    
    <label>Criticidad:
        <select name="criticidad_azure">
            <option value="">Seleccionar...</option>
            <option value="baja">Baja</option>
            <option value="media">Media</option>
            <option value="alta">Alta</option>
        </select>
    </label>
    
    <div class="section-title">DOCUMENTACI√ìN <span class="requerido">(Indicar un √∫nico grupo)</span></div>
    
    <label>Grupo Responsable Correo <span class="requerido">(*)</span>
        <input type="text" name="grupo_responsable_correo_azure" required>
    </label>
    
    <label>Grupo Responsable Service Now: 
        <input type="text" name="grupo_responsable_sn_azure">
    </label>
    
    <label>Acci√≥n a Seguir si Cancela <span class="requerido">(*) IMPORTANTE: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES</span>
        <textarea name="accion_cancela_azure" required placeholder="IMPORTANTE: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES"></textarea>
    </label>
    
    <label>Observaciones / Datos Complementarios / Notas:
        <textarea name="observaciones_azure"></textarea>
    </label>
    
    <!-- Botones de acci√≥n como en la imagen -->
    <div style="display: flex; gap: 10px; margin-top: 30px;">
        <button type="button" class="btn-volver" style="background: #6c757d;">Test</button>
        <button type="submit" style="background: #ff6600; flex: 0 0 auto; width: auto; padding: 16px 40px;">Add</button>
        <button type="button" class="btn-volver" onclick="volverAlPaso3()">Cancel</button>
    </div>
</form>

<!--------------------FORMULARIO MASIVA CON CAMPOS DIN√ÅMICOS ------------------------------>

<form id="form-masiva" class="custom-form" style="display:none;">
    <h2>MASIVA - Agregar m√∫ltiples jobs</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    <label>TIPO DE SOLICITUD <span class="requerido">(*)</span>
        <select name="tipo_solicitud_masiva" required>
            <option value="">Seleccionar...</option>
            <option value="alta">Alta</option>
            <option value="baja">Baja</option>
            <option value="modificacion">Modificaci√≥n</option>
        </select>
    </label>
    
    <label>AMBIENTE <span class="requerido">(*)</span>
        <select name="ambiente_masiva" required>
            <option value="">Seleccionar...</option>
            <option value="desarrollo">Desarrollo</option>
            <option value="testing">Testing</option>
            <option value="produccion">Producci√≥n</option>
            <option value="laboratorio">Laboratorio</option>
        </select>
    </label>
    
    <div class="section-title">üìã Jobs a procesar</div>
    
    <div class="campos-dinamicos" id="contenedor-jobs">
        <div class="fila-dinamica">
            <input type="text" name="jobname[]" placeholder="Nombre Job *" required>
            <input type="text" name="descripcion[]" placeholder="Descripci√≥n">
            <input type="text" name="servidor[]" placeholder="Servidor">
            <input type="text" name="usuario[]" placeholder="Usuario">
            <button type="button" class="btn-eliminar" onclick="eliminarFila(this)">‚ùå</button>
        </div>
    </div>
    
    <button type="button" class="btn-agregar" onclick="agregarJob()">‚ûï Agregar otro Job</button>
    
    <div class="section-title">DOCUMENTACI√ìN</div>
    <label>Grupo Responsable Correo <span class="requerido">(*)</span>
        <input type="text" name="grupo_responsable_correo_masiva" required>
    </label>
    <label>Observaciones: <textarea name="observaciones_masiva"></textarea></label>
    
    <button type="submit">Guardar Todos</button>
</form>

<!---------------------- FORMULARIO ENDPOINT ------------------------------------->

<form id="form-endpoint" class="custom-form" style="display:none;">
    <h2>Campo ENDPOINT</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    
    <label>Tipo de solicitud<span class="requerido">(*)</span>
        <select name="tipo_solicitud_endpoint">
            <option value="">Seleccionar...</option>
            <option value="alta">Alta</option>
            <option value="baja">Baja</option>
            <option value="modificacion">Modificaci√≥n</option>
        </select>
    </label>
    
    <label>Ambiente<span class="requerido">(*)</span>
        <select name="ambiente_endpoint">
            <option value="">Seleccionar...</option>
            <option value="desarrollo">Desarrollo</option>
            <option value="testing">Testing</option>
            <option value="produccion">Producci√≥n</option>
        </select>
    </label>
    
    <label>Ticket en Service Now: <input type="text" name="sn_endpoint"></label>
    
    <label>JOBNAME: <input type="text" name="jobname_endpoint"></label>
    
    <label>DESCRIPCI√ìN DEL PROCESO <span class="requerido">(*)</span>
        <textarea name="descripcion_endpoint" required placeholder="Descripci√≥n del proceso"></textarea>
    </label>
    
    <label>Instancia de Aplicaci√≥n en SN <span class="requerido">(*)</span>
        <input type="text" name="instancia_endpoint" required>
    </label>
    
    <label>URL del Job <span class="requerido">(*)</span>
        <input type="text" name="url_job_endpoint" required placeholder="https://...">
    </label>
    
    <div class="profile-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
        <label>Content Type
            <input type="text" name="content_type_endpoint" placeholder="application/json">
        </label>
        
        <label>BODY <span class="requerido">(*)</span>
            <textarea name="body_endpoint" required placeholder="JSON body"></textarea>
        </label>
    </div>
    
    <div class="profile-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
        <label>Method
            <select name="method_endpoint">
                <option value="">Seleccionar...</option>
                <option value="GET">GET</option>
                <option value="POST">POST</option>
                <option value="PUT">PUT</option>
                <option value="DELETE">DELETE</option>
                <option value="PATCH">PATCH</option>
            </select>
        </label>
    </div>
    
    <div class="section-title">FRECUENCIA de EJECUCI√ìN <span class="requerido">(*)</span></div>
    
    <label>D√≠as de la Semana: <input type="text" name="dias_semana_endpoint"required placeholder="L,M,Mi,J,V"></label>
    <label>D√≠as del Mes: <input type="text" name="dias_mes_endpoint" required placeholder="1,15,30"></label>
    <label>Mes/es:
        <select name="meses_endpoint">
            <option value="todos">TODOS</option>
            <option value="enero">Enero</option>
            <option value="febrero">Febrero</option>
            <option value="marzo">Marzo</option>
            <option value="abril">Abril</option>
            <option value="mayo">Mayo</option>
            <option value="junio">Junio</option>
            <option value="julio">Julio</option>
            <option value="agosto">Agosto</option>
            <option value="septiembre">Septiembre</option>
            <option value="octubre">Octubre</option>
            <option value="noviembre">Noviembre</option>
            <option value="diciembre">Diciembre</option>
        </select>
    </label>
    <label>Fecha √önica: <input type="date" name="fecha_unica_endpoint"></label>
    <label>Hora: <input type="time" name="hora_endpoint" required></label>
    <label>C√çCLICO?
        <select name="ciclico_endpoint" class="ciclico-select">
            <option value="no">NO</option>
            <option value="si">SI</option>
        </select>
    </label>
    <div class="ciclico-campos" style="display: none;">
        <label>Hora Desde: <input type="time" name="hora_desde_endpoint"></label>
        <label>Hora Hasta: <input type="time" name="hora_hasta_endpoint"></label>
        <label>Intervalo (minutos): <input type="number" name="intervalo_endpoint"></label>
        <label>Desde:
            <select name="desde_endpoint">
                <option value="">Seleccionar...</option>
                <option value="fin">Fin</option>
                <option value="principio">Principio</option>
            </select>
        </label>
    </div>
    
    <label>Activo Desde: <input type="date" name="activo_desde_endpoint"></label>
    <label>Activo Hasta: <input type="date" name="activo_hasta_endpoint"></label>
    
    <label>Si tiene dependencias indicar cuales: 
        <textarea name="dependencias_endpoint" placeholder="JOB.TO.JOB"></textarea>
    </label>
    
    <label>Criticidad:
        <select name="criticidad_endpoint">
            <option value="">Seleccionar...</option>
            <option value="baja">Baja</option>
            <option value="media">Media</option>
            <option value="alta">Alta</option>
        </select>
    </label>
    
    <div class="section-title">DOCUMENTACI√ìN <span class="requerido">(Indicar un √∫nico grupo)</span></div>
    
    <label>Grupo Responsable Correo <span class="requerido">(*)</span>
        <input type="text" name="grupo_responsable_correo_endpoint" required>
    </label>
    
    <label>Grupo Responsable Service Now: 
        <input type="text" name="grupo_responsable_sn_endpoint">
    </label>
    
    <label>Acci√≥n a Seguir si Cancela <span class="requerido">(*IMPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES)</span>
        <textarea name="accion_cancela_endpoint" required placeholder="IMPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES"></textarea>
    </label>
    
    <label>Observaciones / Datos Complementarios / Notas:
        <textarea name="observaciones_endpoint"></textarea>
    </label>
    
    <button type="submit">Guardar</button>
</form>


<!---------------------------- FORMULARIO WEBJOB ----------------------------------------->

<form id="form-webjob" class="custom-form" style="display:none;">
    <h2>WEBJOB</h2>
    <button type="button" class="btn-volver" onclick="volverAlPasoAnterior()">‚Üê Volver al paso anterior</button>
    
    <label>Tipo de solicitud<span class="requerido">(*)</span>
        <select name="tipo_solicitud_webjob">
            <option value="">Seleccionar...</option>
            <option value="alta">Alta</option>
            <option value="baja">Baja</option>
            <option value="modificacion">Modificaci√≥n</option>
        </select>
    </label>
    
    <label>Ambiente<span class="requerido">(*)</span>
        <select name="ambiente_webjob">
            <option value="">Seleccionar...</option>
            <option value="desarrollo">Desarrollo</option>
            <option value="testing">Testing</option>
            <option value="produccion">Producci√≥n</option>
        </select>
    </label>
    
    <label>Ticket en Service Now: <input type="text" name="sn_webjob"></label>
    
    <label>JOBNAME: <input type="text" name="jobname_webjob"></label>
    
    <label>DESCRIPCI√ìN DEL PROCESO <span class="requerido">(*)</span>
        <textarea name="descripcion_webjob" required placeholder="Descripci√≥n del proceso"></textarea>
    </label>
    
    <label>Instancia de Aplicaci√≥n en Service Now <span class="requerido">(*)</span>
        <input type="text" name="instancia_webjob" required>
    </label>
    
    <label>URL del Job <span class="requerido">(*)</span>
        <input type="text" name="url_job_webjob" required placeholder="https://...">
    </label>
    
    <div class="profile-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
        <label>Nombre del WebJob (Sugerido)
            <input type="text" name="nombre_webjob" placeholder="Nombre del WebJob">
        </label>
        
        <label>Comando a Ejecutar <span class="requerido">(*)</span>
            <select type="text" name="comando_webjob" required>
                <option value="">Seleccionar...</option>
                <option value="run">RUN</option>
                <option value="start">START</option>
                <option value="stop">STOP</option>
                <option value="otro">OTRO</option>
            </select>
        
        <label>Si es otro indicar cual
            <input type="text" name="otro_comando_webjob" placeholder="Indicar otro comando">
        </label>
    </div>
    
    <div class="section-title">CREDENCIALES DEL CLIENTE</div>
    
    <label>Usuario de Conexi√≥n (Client ID)
        <input type="text" name="client_id_webjob"required placeholder="Client ID">
    </label>
    
    <label>Clave para acceder (Client Secret)
        <input type="password" name="client_secret_webjob"required placeholder="Client Secret">
    </label>
    
    <div class="section-title">FRECUENCIA de EJECUCI√ìN <span class="requerido">(*)</span></div>
    
    <label>D√≠as de la Semana: <input type="text" name="dias_semana_webjob"required placeholder="L,M,Mi,J,V"></label>
    <label>D√≠as del Mes: <input type="text" name="dias_mes_webjob"required placeholder="1,15,30"></label>
    <label>Mes/es:
        <select name="meses_webjob">
            <option value="todos">TODOS</option>
            <option value="enero">Enero</option>
            <option value="febrero">Febrero</option>
            <option value="marzo">Marzo</option>
            <option value="abril">Abril</option>
            <option value="mayo">Mayo</option>
            <option value="junio">Junio</option>
            <option value="julio">Julio</option>
            <option value="agosto">Agosto</option>
            <option value="septiembre">Septiembre</option>
            <option value="octubre">Octubre</option>
            <option value="noviembre">Noviembre</option>
            <option value="diciembre">Diciembre</option>
        </select>
    </label>
    <label>Fecha √önica: <input type="date" name="fecha_unica_webjob"></label>
    <label>Hora: <input type="time" name="hora_webjob" required></label>
    <label>C√çCLICO?
        <select name="ciclico_webjob" class="ciclico-select">
            <option value="no">NO</option>
            <option value="si">SI</option>
        </select>
    </label>
    <div class="ciclico-campos" style="display: none;">
        <label>Hora Desde: <input type="time" name="hora_desde_webjob"></label>
        <label>Hora Hasta: <input type="time" name="hora_hasta_webjob"></label>
        <label>Intervalo (minutos): <input type="number" name="intervalo_webjob"></label>
        <label>Desde:
            <select name="desde_webjob">
                <option value="">Seleccionar...</option>
                <option value="fin">Fin</option>
                <option value="principio">Principio</option>
            </select>
        </label>
    </div>
    
    <label>Activo Desde: <input type="date" name="activo_desde_webjob"></label>
    <label>Activo Hasta: <input type="date" name="activo_hasta_webjob"></label>
    
    <label>Si tiene dependencias indicar cuales: 
        <textarea name="dependencias_webjob" placeholder="JOB.TO.JOB"></textarea>
    </label>
    
    <label>Criticidad:
        <select name="criticidad_webjob">
            <option value="">Seleccionar...</option>
            <option value="baja">Baja</option>
            <option value="media">Media</option>
            <option value="alta">Alta</option>
        </select>
    </label>
    
    <div class="section-title">DOCUMENTACI√ìN <span class="requerido">(Indicar un √∫nico grupo)</span></div>
    
    <label>Grupo Responsable Correo <span class="requerido">(*)</span>
        <input type="text" name="grupo_responsable_correo_webjob" required>
    </label>
    
    <label>Grupo Responsable Service Now: 
        <input type="text" name="grupo_responsable_sn_webjob">
    </label>
    
    <label>Acci√≥n a Seguir si Cancela <span class="requerido">(*IMPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES)</span>
        <textarea name="accion_cancela_webjob" required placeholder="IMPORTANTE!: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES"></textarea>
    </label>
    
    <label>Observaciones / Datos Complementarios / Notas:
        <textarea name="observaciones_webjob"></textarea>
    </label>
    
    <button type="submit">Guardar</button>
</form>


<!--------------------------------------------- FOOTER ------------------------------------------------>
<footer class="footer-principal">
    <div class="footer-contenido">
        <div class="footer-seccion">
            <h3>üìß Contacto Administracion Control-M</h3>
            <p><strong>Email:</strong> <a href="Administracion_Control-M@ypf.com">soporte.controlm@ypf.com</a></p>
            <p><strong>Portal:</strong> <a href="YPF_ADMINISTRACION_CONTROL_CENTRAL_FF" target="_blank">ServiceNow YPF</a></p>
        </div>
        
        <div class="footer-seccion">
            <h3>üìû Tel√©fono de Guardia</h3>
            <p><strong>Horario 24/7:</strong></p>
            <p class="telefono-grande">+54 11-3811-8835</p>
            <!-- <p class="telefono-grande">Int: 5000</p> -->
        </div>
        
        <div class="footer-seccion">
            <h3>üïê Horarios de Atenci√≥n</h3>
            <p><strong>Lunes a Viernes:</strong> 08:00 - 18:00</p>
            <p><strong>Urgencias:</strong> 24/7</p>
            <p class="nota-footer">Para emergencias fuera de horario, comunicarse al tel√©fono de guardia</p>
        </div>
    </div>
    
    <div class="footer-copyright">
        <p>¬© 2025 YPF S.A. - Administraci√≥n Control-M </p>
    </div>
</footer>

<!-- MODAL DE AYUDA -->
<div id="modal-ayuda" class="modal-ayuda" style="display: none;">
    <div class="modal-contenido">
        <span class="cerrar-modal" onclick="cerrarAyuda()">&times;</span>
        <h2>üìñ Gu√≠a para completar el Formulario de ALTA/MODIFICACI√ìN DE JOBS</h2>
        
        <!-- SECCI√ìN: Pasos del Sistema -->
        <div class="ayuda-seccion">
            <h3>üîπ Paso 1: Tipo de Solicitud</h3>
            <ul>
                <li><strong>ALTA:</strong> Para crear un nuevo job en Control-M</li>
                <li><strong>BAJA:</strong> Para eliminar un job existente (solo necesita el nombre del job)</li>
                <li><strong>MODIFICACI√ìN:</strong> Para cambiar la configuraci√≥n de un job existente</li>
            </ul>
        </div>
        
        <div class="ayuda-seccion">
            <h3>üîπ Paso 2: Ambiente</h3>
            <ul>
                <li><strong>DESARROLLO:</strong> Para pruebas de desarrollo</li>
                <li><strong>TESTING:</strong> Para pruebas de QA</li>
                <li><strong>PRODUCCI√ìN:</strong> Ambiente productivo (requiere aprobaciones)</li>
                <li><strong>LABORATORIO:</strong> Para pruebas experimentales</li>
            </ul>
        </div>
        
        <div class="ayuda-seccion">
            <h3>üîπ Paso 3: Tipo de Job</h3>
            <ul>
                <li><strong>SCRIPT / CMD:</strong> Ejecutar scripts o comandos del sistema operativo</li>
                <li><strong>SAP:</strong> Jobs de SAP (reportes, procesos, etc.)</li>
                <li><strong>FILE TRANSFER:</strong> Transferencia de archivos entre servidores</li>
                <li><strong>DATABASE:</strong> Ejecutar queries o procedimientos en bases de datos</li>
                <li><strong>AZURE APP SERVICES:</strong> Jobs en la nube de Microsoft Azure</li>
                <li><strong>WEB SERVICES REST:</strong> Llamadas a APIs REST</li>
                <li><strong>VEEAM BACKUP:</strong> Backups con Veeam</li>
                <li><strong>SAP BTP SCHEDULER:</strong> Jobs en SAP Business Technology Platform</li>
                <li><strong>MASIVA:</strong> Crear m√∫ltiples jobs similares de una vez</li>
            </ul>
        </div>
        
        <!-- SECCI√ìN: Detalles del Job -->
        <div class="ayuda-seccion">
            <h3>üîπ DETALLES del JOB</h3>
            <ul>
                <li><strong>Descripci√≥n del Proceso:</strong> Breve descripci√≥n de la finalidad del Proceso.</li>
                <li><strong>Nombre del Servidor:</strong> Equipo donde se ejecuta el proceso.</li>
                <li><strong>Usuario Ejecutante:</strong> Usuario que tiene los permisos necesarios para ejecutar el proceso en el servidor.</li>
                <li><strong>Instancia de Aplicaci√≥n:</strong> Instancia de Aplicaci√≥n a donde pertenece este proceso.</li>
                <li><strong>Nombre del Proceso a Ejecutar:</strong> Indicar el nombre del proceso a ejecutar.</li>
            </ul>
            
            <h4 style="margin-top: 15px;">Para Jobs de SAP:</h4>
            <ul>
                <li><strong>Usuario en SAP:</strong> Usuario de fondo para ejecutar el job en dicho entorno.</li>
                <li><strong>Instancia / Mandante:</strong> Instancia y Mandante donde se dej√≥ el proceso en estado previsto.</li>
                <li><strong>M√≥dulo:</strong> Si pertenece a SAP o AS400 Comercial, indicar el m√≥dulo asociado.</li>
            </ul>
            
            <h4 style="margin-top: 15px;">Para Jobs de AS400:</h4>
            <ul>
                <li><strong>Job Description:</strong> Indicar la Job Description (Lista de Bibliotecas) que debe contener en su ejecuci√≥n.</li>
                <li><strong>Job Queue:</strong> Indicar la Job Queue que debe contener en su ejecuci√≥n.</li>
                <li><strong>Distribuci√≥n de Listado:</strong> Indicar si necesita un job de Distribuci√≥n de Listados.</li>
            </ul>
        </div>
        
        <!-- SECCI√ìN: Frecuencia de Ejecuci√≥n -->
        <div class="ayuda-seccion">
            <h3>üîπ FRECUENCIA de EJECUCI√ìN</h3>
            <ul>
                <li><strong>D√≠as de la Semana:</strong> El proceso se ejecuta ciertos d√≠as. Ejemplos: "Lunes", "Todos", "L a V", "D a V"</li>
                <li><strong>D√≠a del Mes:</strong> D√≠as espec√≠ficos del mes. Ejemplos: "1¬∞ d√≠a H√°bil", "5to y 15¬∞ d√≠a H√°bil", "del 15 al 20 y del 28 al 30"</li>
                <li><strong>Meses:</strong> Si el proceso debe ejecutarse ciertos d√≠as de la Semana o del Mes, indicar si debe ejecutarse todos los meses o especificar cu√°les.</li>
                <li><strong>Hora:</strong> Horario de ejecuci√≥n expresado en HH:MM con horario de Buenos Aires, Argentina.</li>
                <li><strong>Fecha √önica:</strong> El proceso se planifica una √∫nica vez. Ejemplo: "31 de Diciembre". Indicar si es para todos los a√±os.</li>
            </ul>
            
            <h4 style="margin-top: 15px;">Para procesos C√çCLICOS:</h4>
            <ul>
                <li><strong>Hora Desde:</strong> Hora de inicio de la ejecuci√≥n c√≠clica (HH:MM, horario Buenos Aires).</li>
                <li><strong>Hora Hasta:</strong> Hora de finalizaci√≥n de la ejecuci√≥n c√≠clica (HH:MM, horario Buenos Aires).</li>
                <li><strong>Intervalo:</strong> Intervalo de ejecuci√≥n. Ejemplos: "cada 120 minutos", "cada 5 minutos"</li>
                <li><strong>Desde:</strong> Indicar si el intervalo cuenta desde el "Fin" o "Principio" de la ejecuci√≥n anterior.</li>
            </ul>
        </div>
        
        <!-- SECCI√ìN: Datos √ötiles -->
        <div class="ayuda-seccion">
            <h3>üîπ DATOS √öTILES</h3>
            <ul>
                <li><strong>Dependencias:</strong> En caso de que este proceso tenga dependencias (prerequisitos), indicar las mismas en formato: JOB.TO.JOB</li>
                <li><strong>Activo Desde:</strong> Fecha a partir de la cual debe ejecutarse el proceso v√≠a Control-M.</li>
                <li><strong>Activo Hasta:</strong> Fecha hasta la cual debe ejecutarse el proceso (opcional).</li>
            </ul>
        </div>
        
        <!-- SECCI√ìN: Documentaci√≥n -->
        <div class="ayuda-seccion">
            <h3>üîπ DOCUMENTACI√ìN</h3>
            <p style="font-style: italic; color: #666; margin-bottom: 10px;">
                Esta informaci√≥n ser√° plasmada en un documento de texto, alojado en el servidor, el cual se relacionar√° con el ID del proceso.
            </p>
            <ul>
                <li><strong>Grupo Responsable:</strong> Nombre del Grupo de Correo y del Grupo de Service Now del responsable del Job. <span style="color: #dc3545; font-weight: bold;">Indicar s√≥lo un grupo.</span></li>
                <li><strong>Criticidad:</strong> Indicar si la criticidad del proceso es <strong>Baja</strong>, <strong>Media</strong> o <strong>Alta</strong>. Dependiendo de esto, completar la "Acci√≥n a Seguir".</li>
                <li><strong>Acci√≥n a Seguir si Cancela:</strong> De acuerdo a la criticidad del proceso, indicar qu√© acci√≥n se debe tomar frente a una cancelaci√≥n del mismo. 
                    <br><span style="color: #dc3545; font-weight: bold;">IMPORTANTE: NO DERIVAR INCIDENTE - CERRAR EN OPERACIONES</span>
                </li>
                <li><strong>Observaciones:</strong> Cualquier observaci√≥n adicional que no est√© contemplada en los campos anteriores.</li>
            </ul>
        </div>
        
        <!-- SECCI√ìN: Consejos Finales -->
        <div class="ayuda-seccion" style="background: #fff3cd; border-left-color: #ffc107;">
            <h3 style="color: #856404;">üí° Consejos Importantes</h3>
            <ul>
                <li>‚úÖ Complete todos los campos marcados con <span style="color: #dc3545; font-weight: bold;">(*)</span></li>
                <li>‚úÖ Use nombres descriptivos para los jobs (sin espacios, usar guiones bajos)</li>
                <li>‚úÖ Verifique las dependencias antes de guardar</li>
                <li>‚úÖ Todos los horarios deben estar en hora de Buenos Aires, Argentina</li>
                <li>‚úÖ Para jobs SAP, aseg√∫rese de tener el proceso en estado "Previsto" antes de solicitar el alta</li>
                <li>‚úÖ En caso de dudas, contacte al soporte antes de enviar la solicitud</li>
            </ul>
        </div>
        
        <!-- Botones de acci√≥n -->
        <div class="ayuda-botones">
            <button class="btn-cerrar-ayuda" onclick="cerrarAyuda()">Entendido</button>
            <button class="btn-contacto-ayuda" onclick="window.location.href='mailto:soporte.controlm@ypf.com'">
                üìß Contactar Soporte
            </button>
        </div>
    </div>
</div>
<script src="index.js"></script>
<script src="validaciones.js"></script>
</body>
</html>